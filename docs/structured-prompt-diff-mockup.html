<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Structured Prompt Diff Mockup</title>
    <style>
      body {
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 2rem;
        background: #f7f7fb;
        color: #1f2933;
      }
      .widget {
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 20px 45px rgba(31, 41, 51, 0.12);
        overflow: hidden;
        border: 1px solid #e4e7eb;
      }
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px 20px;
        border-bottom: 1px solid #e4e7eb;
      }
      header h1 {
        font-size: 18px;
        margin: 0;
      }
      .toggle {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        color: #334155;
      }
      .toggle input {
        width: 46px;
        height: 24px;
      }
      .content {
        display: grid;
        grid-template-columns: 320px 1fr;
        gap: 0;
        min-height: 520px;
      }
      aside {
        border-right: 1px solid #e4e7eb;
        padding: 18px 16px;
        background: linear-gradient(180deg, #fdfdfd, #f3f4f6);
      }
      aside h2 {
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #64748b;
        margin: 0 0 12px;
      }
      .tree-node {
        position: relative;
        padding: 10px 12px 10px 32px;
        border-radius: 10px;
        margin-bottom: 8px;
        background: rgba(15, 23, 42, 0.02);
      }
      .tree-node.added::before,
      .tree-node.removed::before,
      .tree-node.moved::before {
        content: "";
        position: absolute;
        inset: 2px auto 2px 2px;
        width: 6px;
        border-radius: 6px;
      }
      .tree-node.added::before {
        background: #22c55e;
      }
      .tree-node.removed::before {
        background: #ef4444;
      }
      .tree-node.moved::before {
        background: #8b5cf6;
      }
      .tree-node .badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        border-radius: 999px;
        padding: 2px 10px;
        font-size: 12px;
        font-weight: 600;
      }
      .badge.added {
        background: rgba(34, 197, 94, 0.15);
        color: #15803d;
      }
      .badge.removed {
        background: rgba(239, 68, 68, 0.15);
        color: #b91c1c;
      }
      .badge.moved {
        background: rgba(139, 92, 246, 0.15);
        color: #6d28d9;
      }
      .ghost {
        opacity: 0.6;
        font-style: italic;
        background: rgba(239, 68, 68, 0.05);
      }
      main {
        padding: 18px 24px;
      }
      .chunk {
        margin-bottom: 18px;
        border-radius: 12px;
        border: 1px solid #d9dde3;
        background: #fff;
        overflow: hidden;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
      }
      .chunk-header {
        padding: 10px 16px;
        font-size: 13px;
        font-weight: 600;
        color: #475569;
        background: #f8fafc;
        border-bottom: 1px solid #e2e8f0;
      }
      .chunk-body {
        position: relative;
        padding: 14px 18px 14px 28px;
        font-family: "JetBrains Mono", "Fira Code", monospace;
        font-size: 13px;
        line-height: 1.5;
      }
      .line.added {
        border-left: 4px solid #22c55e;
        background: rgba(34, 197, 94, 0.12);
        padding-left: 12px;
        margin-left: -16px;
      }
      .line.changed::after {
        content: "Δ";
        position: absolute;
        right: 12px;
        color: #0f172a;
        font-size: 12px;
        opacity: 0.5;
      }
      .deleted-block {
        margin: 12px 16px;
        padding: 12px 16px;
        border-radius: 12px;
        border: 1px dashed rgba(239, 68, 68, 0.6);
        background: rgba(239, 68, 68, 0.05);
      }
      .deleted-block h4 {
        margin: 0 0 6px;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #b91c1c;
      }
      .markdown-preview {
        margin-top: 28px;
        padding: 20px;
        border-radius: 14px;
        background: #0f172a;
        color: #f8fafc;
        position: relative;
      }
      .markdown-preview ins {
        background: rgba(34, 197, 94, 0.35);
        text-decoration: none;
        padding: 2px 4px;
        border-radius: 4px;
      }
      .markdown-preview del {
        background: rgba(239, 68, 68, 0.35);
        padding: 2px 4px;
        border-radius: 4px;
      }
      .metrics {
        display: flex;
        gap: 16px;
        margin-bottom: 16px;
        font-size: 12px;
        color: #475569;
      }
      .metric {
        display: flex;
        flex-direction: column;
        gap: 4px;
        font-weight: 600;
      }
    </style>
  </head>
  <body>
    <div class="widget">
      <header>
        <h1>Structured Prompt</h1>
        <label class="toggle"
          ><input type="checkbox" checked /> Show diff</label
        >
      </header>
      <div class="content">
        <aside>
          <h2>Prompt Tree</h2>
          <div class="metrics">
            <span class="metric" style="color: #15803d">+ 8 additions</span>
            <span class="metric" style="color: #b91c1c">− 3 removals</span>
            <span class="metric" style="color: #6d28d9">↷ 2 moves</span>
          </div>
          <div class="tree-node added">
            <div class="badge added">+ Introduction</div>
            <div>Section: Welcome</div>
          </div>
          <div class="tree-node">
            <div class="badge moved">↷ API Overview</div>
            <div>Section: Endpoints</div>
          </div>
          <div class="tree-node removed ghost">
            <div class="badge removed">− Legacy Auth</div>
            <div><s>Section: Deprecated tokens</s></div>
          </div>
        </aside>
        <main>
          <section class="chunk">
            <div class="chunk-header">Chunk #12 — request payload example</div>
            <div class="chunk-body">
              <div class="line added">{
              </div>
              <div class="line">  "action": "create",
              </div>
              <div class="line changed">  "schema_version": "<ins>2024-06-01</ins>"</div>
              <div class="line">}</div>
            </div>
            <div class="deleted-block">
              <h4>Removed</h4>
              <code>"schema_version": "2023-12-01"</code>
            </div>
          </section>
          <section class="markdown-preview">
            <h3>Markdown Preview</h3>
            <p>
              Please review the <ins>new rate limits</ins> section. The
              <del>legacy billing appendix</del> has been removed.
            </p>
          </section>
        </main>
      </div>
    </div>
  </body>
</html>
